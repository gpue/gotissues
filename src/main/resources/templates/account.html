<!DOCTYPE html>

<html xmlns:th="http://www.thymeleaf.org"
	xmlns:sec="http://www.thymeleaf.org/extras/spring-security">
<head th:replace="skeleton::head"></head>
<body>
	<div th:replace="skeleton::jumbotron"></div>
	<div th:replace="skeleton::nav"></div>

	<div class=" container col-md-6 col-md-offset-3">
		<form class="form-horizontal" method="post" role="form"
			data-parsley-validate="true">
			<div class="form-group"
				th:if="${me.isAdmin()} == true and ${case} == 'edit'">
				<label class="col-sm-2 control-label">Options</label>
				<div class="col-sm-10">

					<span> <a th:if="${user.isEnabled()} == true"
						th:href="@{/account/{id}?action=disable(id=${user.name})}"
						class="btn btn-danger fa fa-close">&nbsp;Disable</a> <span
						th:if="${user.isEnabled()} == false"><span class="h5">is
								disabled&nbsp;</span> <a
							th:href="@{/account/{id}?action=enable(id=${user.name})}"
							class="btn btn-success fa fa-check">&nbsp;Enable</a></span> <a
						th:if="${user.isAdmin()} == false"
						th:href="@{/account/{id}?action=grant(id=${user.name})}"
						class="btn btn-success fa fa-key">&nbsp;Grant admin</a> <span
						th:if="${user.isAdmin()} == true"><span class="h5">is
								admin&nbsp;</span><a
							th:href="@{/account/{id}?action=revoke(id=${user.name})}"
							class="btn btn-danger fa fa-close">&nbsp;Revoke admin</a></span>
					</span>
				</div>
			</div>

			<div class="form-group">
				<label for="newusername" class="col-sm-2 control-label">Username</label>
				<div class="col-sm-10">
					<input type="text" class="form-control" id="newusername"
						name="newusername" th:value="${user.name}"
						data-parsley-minlength="3" required="required" />
				</div>
			</div>
			<div class="form-group">
				<label for="mail" class="col-sm-2 control-label">Email</label>
				<div class="col-sm-10">
					<input type="email" class="form-control" id="mail" name="mail"
						th:value="${user.mail}" />
				</div>
			</div>
			<div class="form-group">
				<label for="password" class="col-sm-2 control-label">New
					password</label>
				<div class="col-sm-10">
					<input type="password" class="form-control" id="password"
						name="password" data-parsley-length="[5,16]" required="required"
						th:if="${case} == 'edit'" value="____NOTHING" /> <input
						type="password" class="form-control" id="password" name="password"
						data-parsley-length="[5,16]" required="required"
						th:if="${case} == 'new'" />

				</div>
			</div>
			<div class="form-group">
				<label for="repeat" class="col-sm-2 control-label">Repeat</label>
				<div class="col-sm-10">

					<input type="password" class="form-control" id="repeat"
						name="repeat" data-parsley-length="[5,16]" required="required"
						th:if="${case} == 'edit'" value="____NOTHING"
						data-parsley-equalto="#password" /> <input type="password"
						class="form-control" id="repeat" name="repeat"
						data-parsley-length="[5,16]" required="required"
						th:if="${case} == 'new'" data-parsley-equalto="#password" />

				</div>
			</div>
			<div class="form-group">
				<div class="col-sm-offset-2 col-sm-10">
					<button type="submit" class="btn btn-primary fa fa-save">&nbsp;Save</button>
				</div>
			</div>
		</form>
	</div>
</body>
</html>